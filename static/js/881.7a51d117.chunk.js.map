{"version":3,"file":"static/js/881.7a51d117.chunk.js","mappings":"oKAcA,IAZoB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACfC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaH,EAAKI,IAAMC,MAAO,CAAEC,KAAML,GAA/C,SACGD,EAAKO,eAAiBP,EAAKQ,kBAInC,C,qFCRYC,EAAe,mCAAG,WAAMC,GAAN,uFACNC,MAAM,GAAD,OALb,+BAKa,OAAeD,EAAf,mBAJd,qCAGe,YACvBE,EADuB,QAEhBC,GAFgB,yCAGpBD,EAASE,QAHW,uBAKhBC,QAAQC,OAAO,IAAIC,MAAM,UALT,mFAAH,qD,uJCH5B,GAAgB,KAAO,qBAAqB,MAAQ,uB,SCqEpD,EAhEe,WACb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BP,EAAAA,EAAAA,WAAS,GAAnC,eAAOQ,EAAP,KAAcC,EAAd,KAmCA,OApBAC,EAAAA,EAAAA,YAAU,WACV,IAAMC,EAAQL,EAAaM,IAAI,SAC/B,GAAID,EAAO,CACT,IAAME,EAAY,mCAAG,8GAEMtB,EAAAA,EAAAA,GAAgB,wBAAD,OAAyBoB,EAAzB,MAFrB,OAGe,KAD1BjB,EAFW,QAGJoB,QAAQC,OACnBN,GAAS,GAETA,GAAS,GAEXL,GAAgB,OAAIV,EAASoB,UARZ,gDAUjBE,QAAQC,IAAR,MAViB,yDAAH,qDAalBJ,GACD,CACA,GAAE,CAACP,KAGF,iCACE,kBAAMY,SA/BW,SAACC,GAEpB,GADAA,EAAEC,iBACmB,KAAjBnB,EAAMoB,OACR,OAAOC,MAAM,oBAEff,EAAgB,CAAEf,MAAOS,IACzBC,EAAS,GACV,EAwBG,WACE,kBACEqB,UAAWC,EAAAA,MACXC,KAAK,OACLC,KAAK,cACLzB,MAAOA,EACP0B,YAAY,gCACZC,SA1Ca,SAACT,GACpBjB,EAASiB,EAAEU,cAAc5B,MAC1B,KA0CK,mBAAQsB,UAAWC,EAAAA,OAAnB,wBAEF,eAAID,UAAWC,EAAAA,KAAf,SACGrB,EAAa2B,KAAI,SAAAnB,GAAK,OACrB,SAACoB,EAAA,EAAD,CAA4BjD,KAAM6B,GAAhBA,EAAMzB,GADH,MAIxBsB,GACC,2DAAmCF,EAAaM,IAAI,SAApD,oBACE,OAGT,C,sBCpED,SAASoB,EAAmBC,EAAKC,EAASpC,EAAQqC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAON,EAAII,GAAKC,GAChBrC,EAAQsC,EAAKtC,KAInB,CAHE,MAAOO,GAEP,YADAV,EAAOU,EAET,CACI+B,EAAKC,KACPN,EAAQjC,GAERJ,QAAQqC,QAAQjC,GAAOwC,KAAKN,EAAOC,EAEvC,CACe,SAASM,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACTC,EAAOC,UACT,OAAO,IAAIlD,SAAQ,SAAUqC,EAASpC,GACpC,IAAImC,EAAMU,EAAGK,MAAMJ,EAAME,GACzB,SAASX,EAAMlC,GACb+B,EAAmBC,EAAKC,EAASpC,EAAQqC,EAAOC,EAAQ,OAAQnC,EAClE,CACA,SAASmC,EAAOa,GACdjB,EAAmBC,EAAKC,EAASpC,EAAQqC,EAAOC,EAAQ,QAASa,EACnE,CACAd,OAAMe,EACR,GACF,CACF,C","sources":["components/GalleryItem/GalleryItem.jsx","components/Services/Api.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nconst GalleryItem = ({ item }) => {\n  const location = useLocation();\n  \n  return (\n    <li>\n      <Link to={`/movies/${item.id}`} state={{ from: location }}>\n        {item.original_name || item.original_title}\n      </Link>\n    </li>\n  );\n};\n\nexport default GalleryItem;","const BASE_URL = 'https://api.themoviedb.org/';\nconst API_KEY = 'd871c37f03af5f9d732b89f21e2b613f';\n\n\nexport const fetchQueryMovie = async query => {\n  const response = await fetch(`${BASE_URL}${query}api_key=${API_KEY}`);\n  if (response.ok) {\n    return response.json();\n  }\n  return await Promise.reject(new Error('error'));\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"input\":\"Movies_input__KrUqs\"};","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchQueryMovie } from \"components/Services/Api\";\nimport GalleryItem from 'components/GalleryItem/GalleryItem';\nimport css from './Movies.module.css'\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const [error, setError] = useState(false);\n\n  const handleChange = (e) => {\n    setValue(e.currentTarget.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (value.trim() === '') {\n      return alert('Enter the text !');\n    }\n    setSearchParams({ query: value });\n    setValue('');\n  };\n\n  useEffect(() => {\n  const movie = searchParams.get('query');\n  if (movie) {\n    const searchMovies = async () => {\n      try {\n        const response = await fetchQueryMovie(`3/search/movie?query=${movie}&`);\n        if (response.results.length === 0) {\n          setError(true);\n        } else {\n          setError(false);\n        }\n        setSearchResult([...response.results]);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    searchMovies();\n  }\n  }, [searchParams]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          name=\"searchMovie\"\n          value={value}\n          placeholder='Enter the name of the movie !'\n          onChange={handleChange}\n        />\n        <button className={css.button}>Search</button>\n      </form>\n      <ul className={css.list}>\n        {searchResult.map(movie => (\n          <GalleryItem key={movie.id} item={movie} />\n        ))}\n      </ul>\n      {error ? (\n        <p>No movie found with that name \"{searchParams.get('query')}\", try again !</p>\n      ) : null}\n    </>\n  );\n};\n\nexport default Movies;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["item","location","useLocation","to","id","state","from","original_name","original_title","fetchQueryMovie","query","fetch","response","ok","json","Promise","reject","Error","useState","value","setValue","searchResult","setSearchResult","useSearchParams","searchParams","setSearchParams","error","setError","useEffect","movie","get","searchMovies","results","length","console","log","onSubmit","e","preventDefault","trim","alert","className","css","type","name","placeholder","onChange","currentTarget","map","GalleryItem","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","done","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}