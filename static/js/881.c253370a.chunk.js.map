{"version":3,"file":"static/js/881.c253370a.chunk.js","mappings":"oKAcA,IAZoB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACfC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaH,EAAKI,IAAMC,MAAO,CAAEC,KAAML,GAA/C,SACGD,EAAKO,eAAiBP,EAAKQ,kBAInC,C,qFCTYC,EAAe,mCAAG,WAAOC,GAAP,gGAEJC,MAAM,GAAD,OALf,+BAKe,OAAeD,EAAf,mBAJhB,qCAEe,YAErBE,EAFqB,QAGdC,GAHc,iCAIZD,EAASE,OAJG,sDAMnB,IAAIC,MAAM,SANS,0DAS3BC,QAAQC,IAAR,MAT2B,0DAAH,qD,uJCF5B,GAAgB,KAAO,qBAAqB,MAAQ,uB,SCqEpD,EAhEe,WACb,OAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BP,EAAAA,EAAAA,WAAS,GAAnC,eAAOQ,EAAP,KAAcC,EAAd,KAmCA,OApBAC,EAAAA,EAAAA,YAAU,WACV,IAAMC,EAAQL,EAAaM,IAAI,SAC/B,GAAID,EAAO,CACT,IAAME,EAAY,mCAAG,8GAEMtB,EAAAA,EAAAA,GAAgB,wBAAD,OAAyBoB,EAAzB,MAFrB,OAGe,KAD1BjB,EAFW,QAGJoB,QAAQC,OACnBN,GAAS,GAETA,GAAS,GAEXL,GAAgB,OAAIV,EAASoB,UARZ,gDAUjBhB,QAAQC,IAAR,MAViB,yDAAH,qDAalBc,GACD,CACA,GAAE,CAACP,KAGF,iCACE,kBAAMU,SA/BW,SAACC,GAEpB,GADAA,EAAEC,iBACmB,KAAjBjB,EAAMkB,OACR,OAAOC,MAAM,oBAEfb,EAAgB,CAAEf,MAAOS,IACzBC,EAAS,GACV,EAwBG,WACE,kBACEmB,UAAWC,EAAAA,MACXC,KAAK,OACLC,KAAK,cACLvB,MAAOA,EACPwB,YAAY,gCACZC,SA1Ca,SAACT,GACpBf,EAASe,EAAEU,cAAc1B,MAC1B,KA0CK,mBAAQoB,UAAWC,EAAAA,OAAnB,wBAEF,eAAID,UAAWC,EAAAA,KAAf,SACGnB,EAAayB,KAAI,SAAAjB,GAAK,OACrB,SAACkB,EAAA,EAAD,CAA4B/C,KAAM6B,GAAhBA,EAAMzB,GADH,MAIxBsB,GACC,2DAAmCF,EAAaM,IAAI,SAApD,oBACE,OAGT,C,sBCpED,SAASkB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBpC,EAAQqC,EAAKrC,KAInB,CAHE,MAAOO,GAEP,YADAyB,EAAOzB,EAET,CACI8B,EAAKC,KACPP,EAAQ/B,GAERuC,QAAQR,QAAQ/B,GAAOwC,KAAKP,EAAOC,EAEvC,CACe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACTC,EAAOC,UACT,OAAO,IAAIP,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GACzB,SAASZ,EAAMjC,GACb6B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQlC,EAClE,CACA,SAASkC,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CACAf,OAAMgB,EACR,GACF,CACF,C","sources":["components/GalleryItem/GalleryItem.jsx","components/Services/Api.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nconst GalleryItem = ({ item }) => {\n  const location = useLocation();\n  \n  return (\n    <li>\n      <Link to={`/movies/${item.id}`} state={{ from: location }}>\n        {item.original_name || item.original_title}\n      </Link>\n    </li>\n  );\n};\n\nexport default GalleryItem;","const BASE_URL = 'https://api.themoviedb.org/';\nconst API_KEY = 'd871c37f03af5f9d732b89f21e2b613f';\n\nexport const fetchQueryMovie = async (query) => {\n  try {\n    const response = await fetch(`${BASE_URL}${query}api_key=${API_KEY}`);\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw new Error('Error');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"input\":\"Movies_input__KrUqs\"};","import { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchQueryMovie } from \"components/Services/Api\";\nimport GalleryItem from 'components/GalleryItem/GalleryItem';\nimport css from './Movies.module.css'\n\nconst Movies = () => {\n  const [value, setValue] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const [error, setError] = useState(false);\n\n  const handleChange = (e) => {\n    setValue(e.currentTarget.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (value.trim() === '') {\n      return alert('Enter the text !');\n    }\n    setSearchParams({ query: value });\n    setValue('');\n  };\n\n  useEffect(() => {\n  const movie = searchParams.get('query');\n  if (movie) {\n    const searchMovies = async () => {\n      try {\n        const response = await fetchQueryMovie(`3/search/movie?query=${movie}&`);\n        if (response.results.length === 0) {\n          setError(true);\n        } else {\n          setError(false);\n        }\n        setSearchResult([...response.results]);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    searchMovies();\n  }\n  }, [searchParams]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          name=\"searchMovie\"\n          value={value}\n          placeholder='Enter the name of the movie !'\n          onChange={handleChange}\n        />\n        <button className={css.button}>Search</button>\n      </form>\n      <ul className={css.list}>\n        {searchResult.map(movie => (\n          <GalleryItem key={movie.id} item={movie} />\n        ))}\n      </ul>\n      {error ? (\n        <p>No movie found with that name \"{searchParams.get('query')}\", try again !</p>\n      ) : null}\n    </>\n  );\n};\n\nexport default Movies;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["item","location","useLocation","to","id","state","from","original_name","original_title","fetchQueryMovie","query","fetch","response","ok","json","Error","console","log","useState","value","setValue","searchResult","setSearchResult","useSearchParams","searchParams","setSearchParams","error","setError","useEffect","movie","get","searchMovies","results","length","onSubmit","e","preventDefault","trim","alert","className","css","type","name","placeholder","onChange","currentTarget","map","GalleryItem","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}